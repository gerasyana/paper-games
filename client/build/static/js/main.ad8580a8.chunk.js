(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=Object(n.memo)(function(e){return r.a.createElement("button",e,e.children)})},123:function(e,t){},149:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),c=a.n(o),s=a(76),i=a.n(s),l=a(37),u=a(15),m=a(12),d=a(13),p=a(16),h=a(14),f=a(17),g=a(6),v=a(30),b=a(46),y=a.n(b),E=function(e){return e.children},O=a(28),j=a(86),k=a(5),_=a(2),w={redirectUrl:"/",user:null,isAuthenticated:!1,loading:!1,token:null,error:null},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.p:case _.F:case _.x:return Object(k.a)({},e,{loading:!0,isAuthenticated:!1,error:null});case _.q:case _.G:case _.y:return Object(k.a)({},e,{loading:!1,isAuthenticated:!0,user:t.user});case _.o:case _.E:case _.w:return Object(k.a)({},e,{loading:!1,isAuthenticated:!1,error:t.error});case _.r:return Object(k.a)({},e,{isAuthenticated:!1,user:null});case _.A:return Object(k.a)({},e,{redirectUrl:t.redirectUrl});case _.D:return Object(k.a)({},e,{user:Object(k.a)({},e.user,{totalPoints:t.totalPoints})});default:return e}},S=a(27),C={rooms:[],usersOnline:0,gamesRating:{}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.C:return Object(k.a)({},e,t.data);case _.J:return Object(k.a)({},e,{rooms:t.rooms});case _.B:return Object(k.a)({},e,{gamesRating:Object(k.a)({},e.gamesRating,Object(S.a)({},t.gameId,t.rating))});default:return e}},x=a(79),T=a.n(x),B=a(80),I=a.n(B),A=(n={},Object(S.a)(n,"tick-tack-toe",{name:"Tic-Tac-Toe",label:"Tick Tac Toe",componentName:"TickTackToe",src:T.a,url:"/game/tick-tack-toe",rules:["Player 1 creates a new room by entering room name","Player 2 joins an existing room","The game is played on a grid that's 3 squares by 3 squares","Player 1 is X, player 2 is Y. Player 1 goes first","For each won game you got 10 points"]}),Object(S.a)(n,"battleship",{name:"Battleship",label:"Battleship",componentName:"Battleship",src:I.a,url:"/game/battleship",rules:["Player 1 creates a new room by entering room name","Player 2 joins an existing room","Player 1 goes first","Select ships from the left-hand side and place on your board","Wait while your enemy places his ships and start the game","Click on the cells of the enemy's board to find and destroy all enemy ships","For each won game you got 50 points"]}),n),P=(r={},Object(S.a)(r,"tick-tack-toe",{gameIsOver:!1,youWon:!1,yourTurn:!1,playerStep:"0",moves:new Array(9).fill(null)}),Object(S.a)(r,"battleship",{gameIsOver:!1,youWon:!1,yourTurn:!1,fleets:[]}),r),G=A,M={gameStarted:!1,roomClosed:!1,playerLeftRoom:!1,room:{gameId:null,name:null,players:[]},gameBoard:{}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.s:var a=t.data,n=a.room,r=a.gameBoard;return Object(k.a)({},e,{playerLeftRoom:!1,roomClosed:!1,gameStarted:2===Object.keys(n.players).length,gameBoard:r,room:n});case _.t:var o=t.data,c=o.players,s=o.gameBoard;return Object(k.a)({},e,{gameStarted:2===Object.keys(c).length,room:Object(k.a)({},e.room,{players:c}),gameBoard:s});case _.d:return Object(k.a)({},M,{roomClosed:!0});case _.u:return Object(k.a)({},e,{playerLeftRoom:!0,room:Object(k.a)({},t.room),gameBoard:Object(k.a)({},M.gameBoard)});case _.H:return Object(k.a)({},e,{gameBoard:Object(k.a)({},e.gameBoard,t.gameBoard,{yourTurn:!e.gameBoard.yourTurn})});case _.g:return Object(k.a)({},e,{gameBoard:Object(k.a)({},e.gameBoard,{gameIsOver:!0},t.gameBoard)});case _.K:return Object(k.a)({},e,{playerLeftRoom:!1,gameStarted:!1});case _.z:return Object(k.a)({},e,{gameBoard:Object(k.a)({},P[e.room.gameId],{yourTurn:e.gameBoard.yourTurn,playerStep:e.gameBoard.playerStep})});case _.f:return Object(k.a)({},e,{gameBoard:Object(k.a)({},e.gameBoard,t.gameBoard)});case _.c:return M;default:return e}},U=a(9),D=a.n(U),F=a(8),z=a(81),H=a.n(z),W=window.location.origin,V=a(3),Y=new(function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"createRoom",value:function(e){this.client.emit("createRoom",e)}},{key:"joinRoom",value:function(e){this.client.emit("joinRoom",e)}},{key:"connectUser",value:function(e){this.client=H.a.connect(W),this.client.emit("setUserId",{userId:e}),this.client.on("userConnected",function(e){Ue.dispatch(V.B(e))}),this.client.on("userDisconnected",function(e){Ue.dispatch(V.B(e))}),this.client.on("roomsUpdated",function(e){Ue.dispatch(V.J(e))}),this.client.on("closeRoom",function(){Ue.dispatch(V.c())}),this.client.on("playerLeftRoom",function(e){Ue.dispatch(V.r(e))}),this.client.on("player1Joined",function(e){Ue.dispatch(V.p(e))}),this.client.on("player2Joined",function(e){Ue.dispatch(V.q(e))}),this.client.on("togglePlayerTurn",function(e){Ue.dispatch(V.H(e))}),this.client.on("gameIsOver",function(e){Ue.dispatch(V.f(e.gameBoard)),e.totalPoints&&Ue.dispatch(V.C(e.totalPoints))}),this.client.on("updateGameRating",function(e){var t=e.gameId,a=e.rating;Ue.dispatch(V.z(t,a))}),this.client.on("gameBoardUpdated",function(e){Ue.dispatch(V.e(e.gameBoard))})}},{key:"leaveRoom",value:function(e){this.client.emit("leaveRoom",{name:e})}},{key:"playerMadeMove",value:function(e){this.client.emit("playerMadeMove",e)}},{key:"updateGameBoard",value:function(e){this.client.emit("updateGameBoard",e)}},{key:"disconnectUser",value:function(){this.client&&this.client.disconnect()}}]),e}()),J=a(82),q="token",K="expirationDate",X=a.n(J).a.create({baseURL:"".concat(W,"/api"),headers:{common:{"Access-Control-Allow-Origin":W,"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"},post:{"Content-Type":"application/json"}}});X.interceptors.request.use(function(e){var t=localStorage.getItem(q);return t&&(e.headers["x-auth"]=t),e});var Z=X,Q=function(){return Z.get("/user")},ee=function(e){return Z.post("/user/login",e)},te=function(e){return Z.post("/user/signup",e)},ae=function(){return Z.post("/user/logout")},ne=function(e){return Z.post("/user/resetpassword",e)},re=D.a.mark(ue),oe=D.a.mark(me),ce=D.a.mark(de),se=D.a.mark(pe),ie=D.a.mark(he),le=D.a.mark(fe);function ue(e){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:return e.next=4,ve();case 4:return e.next=6,Object(F.c)(V.o());case 6:return e.next=8,Y.disconnectUser();case 8:case"end":return e.stop()}},re)}function me(e){var t,a,n;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem(q);case 2:if(!e.sent){e.next=23;break}if(!((t=new Date(localStorage.getItem(K)))<=new Date)){e.next=10;break}return e.next=8,Object(F.c)(V.n());case 8:e.next=23;break;case 10:return e.next=12,Q();case 12:if(200!==(a=e.sent).status||!a.data){e.next=23;break}return e.next=16,Object(F.c)(V.m(a.data));case 16:return e.next=18,t.getTime()-(new Date).getTime();case 18:return n=e.sent,e.next=21,Object(F.c)(V.y(n));case 21:return e.next=23,Y.connectUser(a.data.id);case 23:case"end":return e.stop()}},oe)}function de(e){var t;return D.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(F.c)(V.l());case 2:return a.next=4,ee(e.credentials);case 4:if(!(t=a.sent).data.error&&200===t.status){a.next=10;break}return a.next=8,Object(F.c)(V.k(t.data.error));case 8:a.next=16;break;case 10:return a.next=12,Object(F.c)(V.m(t.data.user));case 12:return a.next=14,ge(t.data.tokenDetails);case 14:return a.next=16,Y.connectUser(t.data.user.id);case 16:case"end":return a.stop()}},ce)}function pe(e){var t;return D.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(F.c)(V.F());case 2:return a.next=4,te(e.user);case 4:if(!(t=a.sent).data.error&&200===t.status){a.next=10;break}return a.next=8,Object(F.c)(V.E(t.data.error));case 8:a.next=16;break;case 10:return a.next=12,Object(F.c)(V.G(t.data.user));case 12:return a.next=14,ge(t.data.tokenDetails);case 14:return a.next=16,Y.connectUser(t.data.user.id);case 16:case"end":return a.stop()}},se)}function he(e){var t;return D.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(F.c)(V.v());case 2:return a.next=4,ne(e.data);case 4:if(!(t=a.sent).data.error&&200===t.status){a.next=10;break}return a.next=8,Object(F.c)(V.u(t.data.error));case 8:a.next=16;break;case 10:return a.next=12,Object(F.c)(V.w(t.data.user));case 12:return a.next=14,ge(t.data.tokenDetails);case 14:return a.next=16,Y.connectUser(t.data.user.id);case 16:case"end":return a.stop()}},ie)}function fe(e){return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(F.b)(e.expirationTime);case 2:return t.next=4,Object(F.c)(V.n());case 4:case"end":return t.stop()}},le)}function ge(e){var t=e.expirationDate,a=new Date(t).getTime()-(new Date).getTime();localStorage.setItem(q,e.token),localStorage.setItem(K,e.expirationDate),Object(F.c)(V.y(a))}function ve(){localStorage.removeItem(q),localStorage.removeItem(K)}var be=D.a.mark(ke),ye=D.a.mark(_e),Ee=D.a.mark(we),Oe=D.a.mark(Ne),je=D.a.mark(Se);function ke(e){return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.joinRoom(e.data);case 2:case"end":return t.stop()}},be)}function _e(e){return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.createRoom(e.data);case 2:case"end":return t.stop()}},ye)}function we(e){return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.leaveRoom(e.room);case 2:case"end":return t.stop()}},Ee)}function Ne(e){return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.playerMadeMove(e.data);case 2:case"end":return t.stop()}},Oe)}function Se(e){return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.updateGameBoard(e.data);case 2:case"end":return t.stop()}},je)}var Ce=function(e){return Z.get("/game/rating",{params:e})},Re=D.a.mark(xe);function xe(e){var t,a;return D.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.gameId,n.next=3,Ce({gameId:t});case 3:if(!(a=n.sent).data){n.next=7;break}return n.next=7,Object(F.c)(V.z(t,a.data));case 7:case"end":return n.stop()}},Re)}var Te=D.a.mark(Ae),Be=D.a.mark(Pe),Ie=D.a.mark(Ge);function Ae(){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([Object(F.d)(_.b,me),Object(F.d)(_.a,fe),Object(F.d)(_.i,de),Object(F.d)(_.l,pe),Object(F.d)(_.j,ue),Object(F.d)(_.k,he)]);case 2:case"end":return e.stop()}},Te)}function Pe(){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([Object(F.d)(_.m,ke),Object(F.d)(_.e,_e),Object(F.d)(_.n,we),Object(F.d)(_.v,Ne),Object(F.d)(_.I,Se)]);case 2:case"end":return e.stop()}},Be)}function Ge(){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([Object(F.d)(_.h,xe)]);case 2:case"end":return e.stop()}},Ie)}var Me=Object(j.a)(),Le=Object(O.e)(Object(O.c)({auth:N,statistics:R,game:L}),Object(O.a)(Me));Me.run(Ae),Me.run(Pe),Me.run(Ge);var Ue=Le,De=function(){var e=Ue.getState().game.room;e.name&&(Ue.dispatch(V.b()),Ue.dispatch(V.i(e.name)))};var Fe=Object(o.memo)(function(e){var t=null;switch(e.type){case"link":t=function(e){return c.a.createElement("li",{className:"nav-item",onClick:function(){return De()}},c.a.createElement(l.b,{to:e.link,className:"nav-link",exact:e.exact},e.label))}(e);break;case"dropdown":t=function(e){var t;return e.dropdownItems&&(t=e.dropdownItems.map(function(e){var t=c.a.createElement("span",{key:e.key,className:"dropdown-item"},e.label);return e.link&&(t=c.a.createElement(l.b,{key:e.key,to:e.link?e.link:"/",className:"dropdown-item",exact:e.exact},e.label)),t})),c.a.createElement("li",{className:"nav-item dropdown"},c.a.createElement("a",{className:"nav-link dropdown-toggle",href:"/","data-toggle":"dropdown",id:"download"},e.label,c.a.createElement("span",{className:"caret"})),c.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"download",onClick:function(){return De()}},t))}(e);break;default:t=function(e){return c.a.createElement("li",{className:"nav-item"},c.a.createElement("span",{className:"nav-link no-cursor"},e.label))}(e)}return t}),ze=Object(o.memo)(function(e){var t=Object.keys(G).map(function(e){var t=G[e],a=t.label;return{type:"link",link:t.url,key:e,label:a}}),a=c.a.createElement(E,null,c.a.createElement(Fe,{type:"link",link:"/login",label:"Login"}),c.a.createElement(Fe,{type:"link",link:"/signup",label:"Sign up"})),n=c.a.createElement(E,null,c.a.createElement(Fe,{type:"link",link:"/",label:"Home"}),c.a.createElement(Fe,{type:"dropdown",dropdownItems:t,label:"Games"}));if(e.isAuthenticated){var r=[{key:"points",label:"".concat(e.user.totalPoints," points")},{key:"logout",label:"Logout",link:"/logout"}];a=c.a.createElement(E,null,c.a.createElement(Fe,{type:"link",link:"/rooms",label:"".concat(e.rooms," rooms ")}),c.a.createElement(Fe,{type:"text",label:"".concat(e.usersOnline," users online")}),c.a.createElement(Fe,{type:"dropdown",dropdownItems:r,label:e.user.username}))}return c.a.createElement(E,null,c.a.createElement("ul",{className:"nav navbar-nav navbar-nav"},n),c.a.createElement("ul",{className:"nav navbar-nav navbar-nav ml-auto"},a))}),$e=Object(o.memo)(function(e){return c.a.createElement("div",{className:"navbar navbar-expand-lg fixed-top navbar-dark bg-primary"},c.a.createElement("div",{className:"container"},c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},c.a.createElement(ze,e))))}),He=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).setInterceptor=function(){Z.interceptors.response.use(function(e){return e},function(e){return 401===e.response.status&&a.props.logout(),Promise.resolve(e.response)})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.setInterceptor()}},{key:"componentWillUnmount",value:function(){Z.interceptors.response.eject(this.setInterceptor)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.isAuthenticated!==e.isAuthenticated||this.props.usersOnline!==e.usersOnline||this.props.rooms!==e.rooms||this.props.user&&this.props.user.totalPoints!==e.user.totalPoints}},{key:"render",value:function(){return c.a.createElement("div",{className:y.a.appContainer},c.a.createElement("div",{className:y.a.header},c.a.createElement($e,this.props)),c.a.createElement("div",{className:y.a.body},this.props.children))}}]),t}(o.Component),We=Object(u.b)(function(e){return{user:e.auth.user,isAuthenticated:e.auth.isAuthenticated,usersOnline:e.statistics.usersOnline,rooms:e.statistics.rooms.length}},function(e){return{logout:function(){return e(V.n())}}})(Object(g.f)(He)),Ve=Object(o.memo)(function(e){var t=e.rating.map(function(e){return c.a.createElement("tr",{key:e.username},c.a.createElement("td",null,e.username),c.a.createElement("td",null,e.points))});return c.a.createElement("div",null,c.a.createElement("h4",null,"Game rating : ")," ",c.a.createElement("br",null),c.a.createElement("div",{className:"table-responsive",style:{maxHeight:"350px",overflow:"scroll"}},c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"Username"),c.a.createElement("th",{scope:"col"},"Total points"))),c.a.createElement("tbody",null,t))))}),Ye=a(11),Je=a(84),qe=a.n(Je),Ke=Object(o.memo)(function(e){var t=c.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"));return e.showCloseIcon||(t=null),c.a.createElement("div",{className:qe.a.modalCentered+" modal fade",id:e.id,tabIndex:"-1",role:"dialog","aria-labelledby":"modalTitle","data-backdrop":"static","data-keyboard":"false","aria-hidden":"true"},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},e.title?c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title",id:"modalTitle"},e.title),t):null,c.a.createElement("div",{className:"modal-body"},e.children[0]),c.a.createElement("div",{className:"modal-footer"},e.children[1]))))}),Xe=a(55),Ze=a(56),Qe="newRoomModal",et=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).setControlValue=function(e){var t=e.target.value,n=Object(Ze.a)(t,a.state.validation),r=Object(k.a)({},a.state.roomControl,n,{value:t});a.setState({roomControl:r})},a.createRoom=function(){var e=a.state.roomControl.value;a.isRoomExists(e)?a.setState({roomControl:Object(k.a)({},a.state.roomControl,{errorMessage:"Room already exist",isValid:!1})}):(a.props.createRoom({gameId:a.props.gameId,name:e,playerId:a.props.player.id}),$("#".concat(Qe)).modal("hide"))},a.isRoomExists=function(e){return a.props.rooms.map(function(e){return e.name}).includes(e)},a.state={roomControl:{type:"text",label:"Room Name",value:"",placeholder:"Enter room name"},validation:{required:!0}},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.roomControl.value!==this.state.roomControl.value||t.roomControl.isValid!==this.state.roomControl.isValid}},{key:"render",value:function(){return c.a.createElement(Ke,{title:"New Room",id:Qe,showCloseIcon:!0},c.a.createElement(Xe.a,Object.assign({},this.state.roomControl,{onChange:this.setControlValue})),c.a.createElement("div",{id:"footer"},c.a.createElement(Ye.a,{type:"button",className:"btn btn-primary mr-4",disabled:!this.state.roomControl.value,onClick:this.createRoom},"Create room"),c.a.createElement(Ye.a,{id:"closeBtn",type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))}}]),t}(o.Component),tt=Object(u.b)(function(e){return{rooms:e.statistics.rooms,player:e.auth.user}},function(e){return{createRoom:function(t){return e(V.d(t))}}})(et),at=a(21),nt=a(29),rt=a.n(nt),ot=a(85),ct=a.n(ot),st=Object(o.memo)(function(e){return c.a.createElement("td",null,c.a.createElement(Ye.a,Object.assign({type:"button",className:ct.a.boardMove},e,{disabled:e.value}),e.value))}),it="waitForPlayerModal",lt="playerLeftModal",ut="gameIsOverModalId",mt=Object(o.memo)(function(e){return c.a.createElement(Ke,{id:it},c.a.createElement("div",{id:"body"},c.a.createElement(v.a,null),c.a.createElement("h5",{className:"text-center"},"Waiting for a player ....")),c.a.createElement("div",{id:"footer"},c.a.createElement(Ye.a,{id:"closeBtn",type:"button",className:"btn btn-secondary",onClick:function(){return e.leaveRoom()}},"Leave room")))}),dt=Object(o.memo)(function(e){return c.a.createElement(Ke,{id:lt},c.a.createElement("div",{id:"body"},c.a.createElement("h5",{className:"text-center"},"Player has left the room. Game is over")),c.a.createElement("div",{id:"footer"},c.a.createElement(Ye.a,{id:"closeBtn",type:"button",className:"btn btn-primary mr-4",onClick:function(){return e.startWaitingForPlayer()}},"Wait for player"),c.a.createElement(Ye.a,{id:"closeBtn",type:"button",className:"btn btn-secondary",onClick:function(){return e.leaveRoom()}},"Leave room")))}),pt=Object(o.memo)(function(e){return c.a.createElement(Ke,{id:ut},c.a.createElement("div",{id:"body"},c.a.createElement("h5",{className:"text-center"}," ",e.message)),c.a.createElement("div",{id:"footer"},c.a.createElement(Ye.a,{id:"closeBtn",type:"button",className:"btn btn-secondary",onClick:function(){return e.leaveRoom()}},"Leave room")))}),ht=G["tick-tack-toe"].url,ft=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).leaveRoom=function(){$("#".concat(it)).modal("hide"),$("#".concat(lt)).modal("hide"),$("#".concat(ut)).modal("hide"),a.props.leaveRoom(a.props.room.name)},a.closeRoom=function(){$("#".concat(lt)).modal("hide"),a.props.history.push(ht)},a.startWaitingForPlayer=function(){setTimeout(function(){a.props.waitForPlayer()},500),$("#".concat(lt)).modal("hide")},a.playerMadeMove=function(e){var t=e.target.id,n=Object(at.a)(a.props.gameBoard.moves);n[t]=a.props.gameBoard.playerStep;var r={room:a.props.room,gameBoard:Object(k.a)({},a.props.gameBoard,{moves:n})};a.props.playerMadeMove(r)},a.getGameIsOverModal=function(){var e="Game is over. Try again.";return a.props.gameBoard.youWon&&(e="You win! You got an extra ".concat(a.props.gameBoard.points," points")),setTimeout(function(){$("#".concat(ut)).modal("hide"),a.props.restartGame()},3e3),c.a.createElement(pt,{message:e,leaveRoom:a.leaveRoom})},a.getGameBoard=function(){for(var e=[],t=a.props.gameBoard.gameIsOver?a.getGameIsOverModal():null,n=function(t){var n=a.props.gameBoard.moves.slice(3*t,3*(t+1)).map(function(e,n){var r=3*t+n;return c.a.createElement(st,{id:r,key:"col-sm-".concat(r),value:e,onClick:a.playerMadeMove})});e.push(c.a.createElement("tr",{key:"row".concat(t)},n))},r=0;r<3;r++)n(r);return c.a.createElement("div",{className:rt.a.gameBoard},t,c.a.createElement("div",{className:"row "+rt.a.gamePnl},c.a.createElement("div",{className:"col-2 "+rt.a.border}),c.a.createElement("div",{className:"col-8"},c.a.createElement("div",{className:"row align-items-center justify-content-center",style:{height:"90%"}},c.a.createElement("div",{className:a.props.gameBoard.yourTurn?"col-sm-10":rt.a.noUserTurn+" col-sm-10"},c.a.createElement("table",{className:rt.a.game},c.a.createElement("tbody",null,e)))),c.a.createElement("div",{className:"row align-items-center justify-content-center",style:{height:"10%"}},a.props.gameBoard.yourTurn?c.a.createElement("h5",null,"Your turn"):null)),c.a.createElement("div",{className:"col-2 "+rt.a.border})),c.a.createElement("div",{className:"row text-center align-items-center justify-content-center "+rt.a.playersPnl},c.a.createElement("div",{className:"col-md-3"},c.a.createElement("h5",null,a.props.room.players[0].username)),c.a.createElement("div",{className:"col-md-2 text-break"},c.a.createElement(Ye.a,{id:"closeBtn",type:"button",className:"btn btn-secondary",onClick:a.leaveRoom},"Leave Game")),c.a.createElement("div",{className:"col-md-3"},c.a.createElement("h5",null,a.props.room.players[1].username))))},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.isAuthenticated!==e.isAuthenticated||this.props.gameStarted!==e.gameStarted||this.props.roomClosed!==e.roomClosed||this.props.playerLeftRoom!==e.playerLeftRoom||this.props.gameBoard.gameIsOver!==e.gameBoard.gameIsOver||this.props.gameBoard.moves!==e.gameBoard.moves}},{key:"componentDidMount",value:function(){this.props.isAuthenticated?(this.props.gameStarted||$("#".concat(it)).modal("show"),window.addEventListener("beforeunload",function(e){(e=e||window.e).cancelBubble=!0,e.returnValue="<h1>You sure you want to leave the room?</h1>",e.stopPropagation&&(e.stopPropagation(),e.preventDefault())})):(this.props.setLoginRedirectUrl(ht),this.props.history.push("/login"))}},{key:"componentDidUpdate",value:function(){this.props.gameStarted||$("#".concat(it)).modal("show"),this.props.playerLeftRoom&&$("#".concat(lt)).modal("show"),this.props.gameBoard.gameIsOver&&($("#".concat(lt)).modal("hide"),$("#".concat(ut)).modal("show"))}},{key:"render",value:function(){var e=null;return this.props.isAuthenticated?this.props.playerLeftRoom?(e=c.a.createElement(dt,{startWaitingForPlayer:this.startWaitingForPlayer,leaveRoom:this.leaveRoom}),$("#".concat(ut)).modal("hide")):!this.props.room.name||this.props.roomClosed||void 0===this.props.gameBoard?e=c.a.createElement(g.a,{to:ht}):this.props.gameStarted?($("#".concat(it)).modal("hide"),e=this.getGameBoard()):e=c.a.createElement(mt,{leaveRoom:this.leaveRoom}):e=c.a.createElement(g.a,{to:"/login"}),e}}]),t}(o.Component),gt=Object(u.b)(function(e){return Object(k.a)({isAuthenticated:e.auth.isAuthenticated},e.game)},function(e){return{setLoginRedirectUrl:function(t){return e(V.A(t))},leaveRoom:function(t){return e(V.i(t))},playerMadeMove:function(t){return e(V.s(t))},waitForPlayer:function(){return e(V.K())},restartGame:function(){return e(V.x())}}})(ft),vt=a(34),bt=a.n(vt),yt=a(18),Et=["A","B","C","D","E","F","G","H","I","J"],Ot=Object(o.memo)(function(e){var t=[];t.push(c.a.createElement("div",{key:"columns",className:yt.row},c.a.createElement("div",{className:yt.gridCellHeaderEmpty,key:"empty-cell"}),Et.map(function(e){var t=e+"-column-";return c.a.createElement("div",{className:yt.gridCellHeader,key:t},e)})));for(var a=0;a<10;a++){var n=e.gridColumns.slice(10*a,10*(a+1)).map(function(t){var a=[yt.cell,"text-center"];return e.readOnlyMode?(a.push(yt.readOnly),t.shipDestroyed?a.push(yt.destroyed):t.moved?a.push(yt.moved):t.selected&&a.push(yt.selected)):t.outOfBoundary?a.push(yt.outOfBoundary):t.shipDestroyed?a.push(yt.destroyed):t.moved?a.push(yt.moved):t.selected||t.hovered?a.push(yt.selected):a.push(yt.empty),c.a.createElement("div",{className:a.join(" "),id:t.id,key:t.id},t.inTarget?c.a.createElement("h3",null,"X"):null)});t.push(c.a.createElement("div",{key:"row-"+a,className:yt.row},c.a.createElement("div",{className:yt.gridRowNumber,key:"fleetRowNumber-1"},a+1),n))}return c.a.createElement("div",{className:yt.fleetGrid,onClick:e.onClick,onMouseOver:e.onMouseOver},t)}),jt=function(e){function t(e){var a;Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).madeMove=function(e){if(!a.props.readOnlyMode&&a.props.yourTurn){var t=e.target.id,n=+a.state.gridColumns.findIndex(function(e){return e.id===t}),r=a.props.fleet.moves?Object(at.a)(a.props.fleet.moves):[];r.push(n);var o={room:a.props.room,gameBoard:{fleets:a.props.gameBoard.fleets.map(function(e){return e.playerId===a.props.fleet.playerId?Object(k.a)({},e,{moves:r}):e})}};a.props.playerMadeMove(o)}};var n=!!Object.hasOwnProperty.call(a.props,"readOnlyMode")&&a.props.readOnlyMode,r=a.props.fleet.ships.reduce(function(e,t){return e.push.apply(e,Object(at.a)(t.columns)),e},[]);return a.state={gridColumns:new Array(100).fill(null).map(function(e,t){return{id:"gridColumn-".concat(t),selected:n&&r.includes(t)}})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.fleet.moves!==this.props.fleet.moves||this.props.yourTurn!==e.yourTurn}},{key:"render",value:function(){var e=this.props.fleet.ships,t=this.props.fleet.moves?Object(at.a)(this.props.fleet.moves):[],a=e.reduce(function(e,t){return t.destroyed&&e.push.apply(e,Object(at.a)(t.columns)),e},[]),n=e.reduce(function(e,t){return e.push.apply(e,Object(at.a)(t.columns)),e},[]),r=this.state.gridColumns.map(function(e,r){return Object(k.a)({},e,{moved:t&&t.includes(r),inTarget:t&&t.includes(r)&&n.includes(r),shipDestroyed:a.includes(r)})});return c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-sm-10"},c.a.createElement(Ot,{readOnlyMode:this.props.readOnlyMode||!this.props.yourTurn,gridColumns:r,onClick:this.madeMove}),c.a.createElement("h4",{className:"text-center m-1"},this.props.player.username)))}}]),t}(o.Component),kt=Object(u.b)(function(e){return{room:e.game.room,yourTurn:e.game.gameBoard.yourTurn,gameBoard:e.game.gameBoard}},function(e){return{playerMadeMove:function(t){return e(V.s(t))}}})(jt),_t=a(26),wt={carrier:{label:"Aircraft carrier",size:5,count:1},battleship:{label:"Battleship",size:4,count:1},cruiser:{label:"Cruiser",size:3,count:1},destroyer:{label:"Destroyer",size:2,count:2},submarine:{label:"Submarine",size:1,count:2}},Nt=function(e){function t(e){var a;Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).selectShip=function(e){var t=Object(k.a)({},a.state.ships),n=Object(k.a)({},t[e]);Object.keys(t).forEach(function(a){return t[a].selected=e===a}),a.setState({selectedShip:n,ships:t})},a.placeShip=function(){if(!a.state.shipOutOfBoundary&&a.state.selectedShip){var e=Object(at.a)(a.state.placedShips),t=Object(k.a)({},a.state.ships);delete t[a.state.selectedShip.key];var n=a.state.gridColumns.map(function(e,t){return a.state.selectedShipColumns.includes(t)&&(e.selected=!0),e});e.push({id:a.state.selectedShip.id,columns:Object(at.a)(a.state.selectedShipColumns)}),0===Object.keys(t).length?a.updateGameBoard(e):a.setState({ships:t,selectedShip:null,selectedShipColumns:[],gridColumns:n,placedShips:e})}},a.updateGameBoard=function(e){a.props.updateGameBoard({room:a.props.room.name,gameBoard:{fleets:[].concat(Object(at.a)(a.props.fleets),[{playerId:a.props.user.id,shipsAreSet:!0,ships:e}])}})},a.gridColumnHovered=function(e){var t=e.target.id;if(a.state.selectedShip&&-1!==t.indexOf("gridColumn-")){var n=a.state.selectedShip.size,r=+a.state.gridColumns.findIndex(function(e){return e.id===t}),o=Math.floor(r/10),c=Object(at.a)(new Array(n)).map(function(e,t){return a.state.horizontalShip?r+t:r+10*t}).filter(function(e){return a.state.horizontalShip?Math.floor(e/10)!==o+1:e<100}),s=a.state.gridColumns.filter(function(e,t){return c.includes(t)}).reduce(function(e,t){return t.selected&&(e=!0),e},!1)||c.length!==n,i=a.state.gridColumns.map(function(e,t){return Object(k.a)({},e,{outOfBoundary:s&&c.includes(t),hovered:c.includes(t)})});a.setState({shipOutOfBoundary:s,gridColumns:i,selectedShipColumns:c})}},a.setOrientation=function(e){a.setState({horizontalShip:e})},a.leaveRoom=function(){a.props.leaveRoom(a.props.room.name)};var n={};return Object.keys(wt).forEach(function(e){for(var t=wt[e],a=t.size,r=t.count;r>0;r--)n["".concat(e,"-").concat(r)]={key:"".concat(e,"-").concat(r),id:e,size:a}}),a.state={gridColumns:new Array(100).fill(null).map(function(e,t){return{id:"gridColumn-".concat(t),selected:!1,hovered:!1}}),ships:n,placedShips:[],selectedShip:null,selectedShipColumns:[],horizontalShip:!0},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.selectedShip!==t.selectedShip||this.state.gridColumns!==t.gridColumns||this.state.horizontalShip!==t.horizontalShip}},{key:"render",value:function(){var e=this,t=Object.values(this.state.ships).map(function(t){for(var a=[],n=[_t.ship],r=t.size;r>0;r--)a.push(c.a.createElement("div",{key:"ship-".concat(t.key,"-").concat(r),className:_t.shipCell}));return t.selected&&n.push(_t.shipSelected),c.a.createElement("div",{className:"col-12 p-0",key:t.key},c.a.createElement("div",{className:n.join(" "),onClick:function(){return e.selectShip(t.key)}},a))}),a=c.a.createElement(E,null,c.a.createElement("div",{className:_t.orientation},c.a.createElement("span",{className:this.state.horizontalShip?_t.orientationSelected:null,onClick:function(){return e.setOrientation(!0)}},"Horizontal"),"  \xa0 \xa0 \xa0",c.a.createElement("span",{className:this.state.horizontalShip?null:_t.orientationSelected,onClick:function(){return e.setOrientation(!1)}},"Vertical")),c.a.createElement("div",{className:"row",style:{width:"200px"}},t));return c.a.createElement("div",{className:"row justify-content-center "+_t.row},c.a.createElement("div",{className:"col-lg-5 m-4"},c.a.createElement(Ot,{gridColumns:this.state.gridColumns,onClick:this.placeShip,shipSelected:this.state.selectedShip,onMouseOver:this.gridColumnHovered})),c.a.createElement("div",{className:"col-lg-3 m-4"},c.a.createElement("div",{className:_t.shipsPanel},a),c.a.createElement("div",{className:_t.leaveRoom},c.a.createElement(Ye.a,{id:"closeBtn",type:"button",className:"btn btn-secondary",onClick:this.leaveRoom},"Leave Game"))))}}]),t}(o.Component),St=Object(u.b)(function(e){return{room:e.game.room,user:e.auth.user,fleets:e.game.gameBoard.fleets}},function(e){return{updateGameBoard:function(t){return e(V.I(t))},leaveRoom:function(t){return e(V.i(t))}}})(Nt),Ct=G.battleship.url,Rt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).closeRoom=function(){$("#".concat(lt)).modal("hide"),a.props.history.push(Ct)},a.startWaitingForPlayer=function(){setTimeout(function(){a.props.waitForPlayer()},500),$("#".concat(lt)).modal("hide")},a.getGameBoard=function(){var e=a.props.gameBoard.fleets,t=a.props.user.id,n=a.props.gameBoard.gameIsOver?a.getGameIsOverModal():null,r=1===e.length&&e[0].playerId===t,o=c.a.createElement("div",{className:bt.a.gamePnl},c.a.createElement("h4",{className:"text-center m-4"},"Your fleet"),c.a.createElement(St,null));return r?o=c.a.createElement("div",{className:"col-md-8 m-3"},c.a.createElement(v.a,null),c.a.createElement("h4",{className:"text-center"},"Please wait while the enemy places ships")):2===e.length&&e.every(function(e){return e.shipsAreSet})&&(o=c.a.createElement("div",{className:"row justify-content-center align-items-center "+bt.a.gamePnl},c.a.createElement("div",{className:"col-lg-5 mt-5"},c.a.createElement(kt,{fleet:e.find(function(e){return e.playerId===t}),player:a.props.room.players.find(function(e){return e.id===t}),readOnlyMode:!0})),c.a.createElement("div",{className:"col-lg-5 mt-5"},c.a.createElement(kt,{fleet:e.find(function(e){return e.playerId!==t}),player:a.props.room.players.find(function(e){return e.id!==t})})),c.a.createElement("div",{className:"col-12 text-center",style:{height:"30px"}},a.props.gameBoard.yourTurn?c.a.createElement("h5",null,"Your turn"):null),c.a.createElement("div",{className:"col-12 text-center",style:{height:"40px"}},c.a.createElement(Ye.a,{id:"closeBtn",type:"button",className:"btn btn-secondary",onClick:a.leaveRoom},"Leave Game")))),c.a.createElement("div",{className:bt.a.gameBoard},n,c.a.createElement("div",{className:"row justify-content-center align-items-center "+bt.a.gamePnl},o),c.a.createElement("div",{className:"row justify-content-center align-items-center "+bt.a.playersPnl}))},a.getGameIsOverModal=function(){var e="Game is over. Try again.";return a.props.gameBoard.youWon&&(e="You win! You got an extra ".concat(a.props.gameBoard.points," points")),setTimeout(function(){$("#".concat(ut)).modal("hide"),a.props.restartGame()},3e3),c.a.createElement(pt,{message:e,leaveRoom:a.leaveRoom})},a.leaveRoom=function(){$("#".concat(it)).modal("hide"),$("#".concat(lt)).modal("hide"),$("#".concat(ut)).modal("hide"),a.props.leaveRoom(a.props.room.name)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.isAuthenticated!==e.isAuthenticated||this.props.gameStarted!==e.gameStarted||this.props.roomClosed!==e.roomClosed||this.props.playerLeftRoom!==e.playerLeftRoom||this.props.gameBoard.gameIsOver!==e.gameBoard.gameIsOver||this.props.gameBoard.fleets!==e.gameBoard.fleets}},{key:"componentDidMount",value:function(){this.props.isAuthenticated?(this.props.gameStarted||$("#".concat(it)).modal("show"),window.addEventListener("beforeunload",function(e){(e=e||window.e).cancelBubble=!0,e.returnValue="<h1>You sure you want to leave the room?</h1>",e.stopPropagation&&(e.stopPropagation(),e.preventDefault())})):(this.props.setLoginRedirectUrl(Ct),this.props.history.push("/login"))}},{key:"componentDidUpdate",value:function(){this.props.gameStarted||$("#".concat(it)).modal("show"),this.props.playerLeftRoom&&$("#".concat(lt)).modal("show"),this.props.gameBoard.gameIsOver&&($("#".concat(lt)).modal("hide"),$("#".concat(ut)).modal("show"))}},{key:"render",value:function(){var e=null;return this.props.isAuthenticated?this.props.playerLeftRoom?(e=c.a.createElement(dt,{startWaitingForPlayer:this.startWaitingForPlayer,leaveRoom:this.leaveRoom}),$("#".concat(ut)).modal("hide")):!this.props.room.name||this.props.roomClosed||void 0===this.props.gameBoard?e=c.a.createElement(g.a,{to:Ct}):this.props.gameStarted?($("#".concat(it)).modal("hide"),e=this.getGameBoard()):e=c.a.createElement(mt,{leaveRoom:this.leaveRoom}):e=c.a.createElement(g.a,{to:"/login"}),e}}]),t}(o.Component),xt=Object(u.b)(function(e){return Object(k.a)({isAuthenticated:e.auth.isAuthenticated,user:e.auth.user},e.game)},function(e){return{setLoginRedirectUrl:function(t){return e(V.A(t))},leaveRoom:function(t){return e(V.i(t))},playerMadeMove:function(t){return e(V.s(t))},waitForPlayer:function(){return e(V.K())},restartGame:function(){return e(V.x())},updateGameBoard:function(t){return e(V.I(t))}}})(Rt),Tt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getGameRating=function(){if((!a.state.game||a.props.match.params.id!==a.state.gameId)&&a.props.match.params.id){var e=a.props.match.params.id,t=G[e];a.setState({game:t,gameId:e}),a.props.getGameRating(e)}},a.createRoom=function(){a.props.isAuthenticated||(a.props.setLoginRedirectUrl(a.props.match.url),a.props.history.push("/login"))},a.joinRoom=function(){a.props.history.push("/rooms")},a.state={game:null,gameId:null,startGame:!1,gameRating:[]},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.isAuthenticated!==e.isAuthenticated||this.props.room!==e.room||this.state.gameRating!==t.gameRating||this.props.location.pathname!==e.location.pathname}},{key:"componentDidMount",value:function(){!this.state.game&&this.props.match.params.id&&this.getGameRating()}},{key:"componentDidUpdate",value:function(){this.props.match.params.id!==this.state.gameId&&this.props.match.params.id&&this.getGameRating()}},{key:"render",value:function(){var e=null;if(this.props.room)e=c.a.createElement(g.a,{to:"".concat(this.props.match.url,"/").concat(this.props.room)});else if(this.state.game){var t=this.state.game.rules.map(function(e,t){return c.a.createElement("li",{key:t},e)});e=c.a.createElement("div",{className:"container body-container"},c.a.createElement(tt,{gameId:this.state.gameId}),c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-sm-4 col-margin-fixed"},c.a.createElement(Ve,{rating:this.state.gameRating})),c.a.createElement("div",{className:"col-sm-5 col-margin-fixed"},c.a.createElement("h1",null,this.state.game.name),c.a.createElement("h3",null,"How To Play"),c.a.createElement("ol",null,t),c.a.createElement("div",null,c.a.createElement(Ye.a,{type:"submit",className:"btn btn-primary mr-4 mb-4","data-toggle":"modal","data-target":"#newRoomModal",onClick:this.createRoom},"Create a new room"),c.a.createElement(Ye.a,{type:"button",className:"btn btn-primary mb-4",onClick:this.joinRoom},"Join an existing room")))))}return c.a.createElement(g.d,null,c.a.createElement(g.b,{path:"/game/".concat("tick-tack-toe","/:room"),exact:!0,component:gt}),";",c.a.createElement(g.b,{path:"/game/".concat("battleship","/:room"),exact:!0,component:xt}),";",c.a.createElement(g.b,{path:"".concat(this.props.match.path),exact:!0},e))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Object.keys(e.gamesRating).includes(t.gameId)?Object(k.a)({},t.state,{gameRating:e.gamesRating[t.gameId]}):t}}]),t}(o.Component),Bt=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,room:e.game.room.name,gamesRating:e.statistics.gamesRating}},function(e){return{setLoginRedirectUrl:function(t){return e(V.A(t))},getGameRating:function(t){return e(V.g(t))}}})(Tt),It=Object(o.memo)(function(e){var t=1===e.players.length&&!e.players.find(function(t){return t.id===e.userId});return c.a.createElement("div",{key:e.name,className:"col-md-3 col-margin-fixed"},c.a.createElement("div",{className:"card border-primary mb-3"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h5",null,e.name)),c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",null,e.gameId),c.a.createElement("h6",{className:"card-title"},e.players.map(function(e){return e.username}).join(",")),t?c.a.createElement(Ye.a,{type:"button",className:"btn btn-primary",onClick:function(){return e.join(e.name)}},"Join"):null)))}),At=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).joinRoom=function(e){var t=a.props.rooms.find(function(t){return t.name===e});a.setState({roomSelected:t}),a.props.joinRoom({name:e,playerId:a.props.user.id})},a.state={roomSelected:null},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.rooms!==e.rooms||e.rooms.length!==this.props.rooms.length||e.gameStart!==this.props.gameStart}},{key:"render",value:function(){var e=this,t=this.props.rooms.map(function(t){return c.a.createElement(It,Object.assign({key:t.name},t,{join:e.joinRoom,userId:e.props.user.id}))});return 0===this.props.rooms.length&&(t=c.a.createElement("div",{className:"col-md-8 offset-md-2"},c.a.createElement("h4",{className:"align-middle"},"No open rooms"))),this.state.roomSelected&&(t=c.a.createElement(g.a,{to:"game/".concat(this.state.roomSelected.gameId,"/").concat(this.state.roomSelected.name)})),c.a.createElement("div",{className:"container body-container"},c.a.createElement("div",{className:"row"},t))}}]),t}(o.Component),Pt=Object(u.b)(function(e){return{rooms:e.statistics.rooms,user:e.auth.user,gameStart:e.game.gameStart}},function(e){return{joinRoom:function(t){return e(V.h(t))}}})(At),Gt=a(54),Mt=a.n(Gt),Lt=Object(o.memo)(function(e){return c.a.createElement("div",{className:Mt.a.imgContainer,onClick:e.onClick},c.a.createElement("img",{className:"img-fluid",src:e.src,alt:e.name}),c.a.createElement("div",{className:Mt.a.gameLabel},c.a.createElement("h4",null,e.name)))}),Ut=Object(o.memo)(function(e){return Object.keys(e.games).map(function(t){var a=e.games[t];return c.a.createElement("div",{key:t,className:"col-sm-4 col-margin-fixed"},c.a.createElement(Lt,{name:a.name,src:a.src,onClick:function(){return e.gameSelected(a.url)}}))})}),Dt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).openGameDetails=function(e){a.props.history.push(e)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement(g.d,null,c.a.createElement(g.b,{path:"/rooms",component:Pt}),c.a.createElement(g.b,{path:"/game/:id/",component:Bt}),c.a.createElement(g.b,{path:"/",exact:!0},c.a.createElement("div",{className:"body-container container"},c.a.createElement("div",{className:"row justify-content-around"},c.a.createElement(Ut,{games:G,gameSelected:this.openGameDetails})))))}}]),t}(o.PureComponent),Ft=c.a.lazy(function(){return a.e(3).then(a.bind(null,150))}),zt=c.a.lazy(function(){return a.e(4).then(a.bind(null,151))}),$t=c.a.lazy(function(){return a.e(6).then(a.bind(null,152))}),Ht=c.a.lazy(function(){return a.e(5).then(a.bind(null,153))}),Wt=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.checkAuthentication()}},{key:"render",value:function(){var e=this;return c.a.createElement(We,null,c.a.createElement(o.Suspense,{fallback:c.a.createElement(v.a,null)},c.a.createElement(g.d,null,c.a.createElement(g.b,{path:"/login",exact:!0,render:function(){return c.a.createElement(Ft,e.props)}}),c.a.createElement(g.b,{path:"/signup",exact:!0,render:function(){return c.a.createElement($t,e.props)}}),c.a.createElement(g.b,{path:"/logout",exact:!0,render:function(){return c.a.createElement(zt,e.props)}}),c.a.createElement(g.b,{path:"/resetpassword",exact:!0,render:function(){return c.a.createElement(Ht,e.props)}}),c.a.createElement(g.b,{path:"/",component:Dt}),c.a.createElement(g.a,{to:"/"}))))}}]),t}(o.Component),Vt=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},function(e){return{checkAuthentication:function(){return e(V.a())}}})(Object(g.f)(Wt)),Yt=c.a.createElement(u.a,{store:Ue},c.a.createElement(l.a,null,c.a.createElement(Vt,null)));i.a.render(Yt,document.getElementById("root"))},18:function(e,t,a){e.exports={fleetGrid:"FleetGrid__fleetGrid_2TSH_",row:"FleetGrid__row_2pvmW",gridCellHeaderEmpty:"FleetGrid__gridCellHeaderEmpty_2kbgB",gridCellHeader:"FleetGrid__gridCellHeader_3h_eD",gridRowNumber:"FleetGrid__gridRowNumber_28ttY",cell:"FleetGrid__cell_8uUOh",empty:"FleetGrid__empty_3YJPg",selected:"FleetGrid__selected_1ndt7",destroyed:"FleetGrid__destroyed_1G67s",moved:"FleetGrid__moved_13PFK",readOnly:"FleetGrid__readOnly_3PdRF",outOfBoundary:"FleetGrid__outOfBoundary_LzdVM"}},2:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"i",function(){return o}),a.d(t,"p",function(){return c}),a.d(t,"q",function(){return s}),a.d(t,"o",function(){return i}),a.d(t,"j",function(){return l}),a.d(t,"r",function(){return u}),a.d(t,"l",function(){return m}),a.d(t,"F",function(){return d}),a.d(t,"G",function(){return p}),a.d(t,"E",function(){return h}),a.d(t,"k",function(){return f}),a.d(t,"x",function(){return g}),a.d(t,"y",function(){return v}),a.d(t,"w",function(){return b}),a.d(t,"A",function(){return y}),a.d(t,"D",function(){return E}),a.d(t,"C",function(){return O}),a.d(t,"J",function(){return j}),a.d(t,"m",function(){return k}),a.d(t,"e",function(){return _}),a.d(t,"s",function(){return w}),a.d(t,"t",function(){return N}),a.d(t,"n",function(){return S}),a.d(t,"d",function(){return C}),a.d(t,"K",function(){return R}),a.d(t,"u",function(){return x}),a.d(t,"v",function(){return T}),a.d(t,"H",function(){return B}),a.d(t,"g",function(){return I}),a.d(t,"z",function(){return A}),a.d(t,"I",function(){return P}),a.d(t,"f",function(){return G}),a.d(t,"c",function(){return M}),a.d(t,"B",function(){return L}),a.d(t,"h",function(){return U});var n="CHECK_AUTHENTICATION",r="AUTH_SET_TIMEOUT",o="INIT_LOGIN",c="LOGIN_START",s="LOGIN_SUCCESS",i="LOGIN_FAILED",l="INIT_LOGOUT",u="LOGOUT_SUCCESS",m="INIT_SIGNUP",d="SIGNUP_START",p="SIGNUP_SUCCESS",h="SIGNUP_FAILED",f="INIT_RESET_PASSWORD",g="RESET_PASSWORD_START",v="RESET_PASSWORD_SUCCESS",b="RESET_PASSWORD_FAILED",y="SET_AUTH_REDIRECT_URL",E="SET_USER_TOTAL_POINTS",O="SET_SITE_STATISTICS",j="UPDATE_ROOMS",k="JOIN_ROOM",_="CREATE_ROOM",w="PLAYER1_JOINED",N="PLAYER2_JOINED",S="LEAVE_ROOM",C="CLOSE_ROOM",R="WAIT_FOR_PLAYER",x="PLAYER_LEFT_ROOM",T="PLAYER_MADE_MODE",B="TOGGLE_PLAYER_TURN",I="GAME_IS_OVER",A="RESTART_GAME",P="UPDATE_GAME_BOARD",G="GAME_BOARD_UPDATED",M="CLEAN_GAME_BOARD",L="SET_GAME_RATING",U="GET_GAME_RATING"},26:function(e,t,a){e.exports={shipCell:"ShipsPlacement__shipCell_DE8Ru",ship:"ShipsPlacement__ship_39bc6",shipSelected:"ShipsPlacement__shipSelected_wKlpJ",orientation:"ShipsPlacement__orientation_10XRl",orientationSelected:"ShipsPlacement__orientationSelected_33jXb",shipsPanel:"ShipsPlacement__shipsPanel_2qAdg",row:"ShipsPlacement__row_2KM9j",leaveRoom:"ShipsPlacement__leaveRoom_dn3eI"}},29:function(e,t,a){e.exports={gameBoard:"TickTackToe__gameBoard_1BT7-",gamePnl:"TickTackToe__gamePnl_2JkPd",border:"TickTackToe__border_2r9Vh",playersPnl:"TickTackToe__playersPnl_1LbIr",game:"TickTackToe__game_3YvNo",noUserTurn:"TickTackToe__noUserTurn_E7wBX"}},3:function(e,t,a){"use strict";var n=a(2),r=function(){return{type:n.b}},o=function(e){return{type:n.i,credentials:e}},c=function(){return{type:n.p}},s=function(e){return{type:n.q,user:e}},i=function(e){return{type:n.o,error:e}},l=function(e){return{type:n.k,data:e}},u=function(){return{type:n.x}},m=function(e){return{type:n.y,user:e}},d=function(e){return{type:n.w,error:e}},p=function(){return{type:n.j}},h=function(){return{type:n.r}},f=function(e){return{type:n.l,user:e}},g=function(){return{type:n.F}},v=function(e){return{type:n.G,user:e}},b=function(e){return{type:n.E,error:e}},y=function(e){return{type:n.a,expirationTime:e}},E=function(e){return{type:n.A,redirectUrl:e}},O=function(e){return{type:n.D,totalPoints:e}},j=function(e){return{type:n.J,rooms:e}},k=function(e){return{type:n.C,data:e}},_=function(e){return{type:n.h,gameId:e}},w=function(e,t){return{type:n.B,gameId:e,rating:t}},N=function(e){return{type:n.m,data:e}},S=function(e){return{type:n.e,data:e}},C=function(e){return{type:n.n,room:e}},R=function(e){return{type:n.t,data:e}},x=function(e){return{type:n.s,data:e}},T=function(){return{type:n.d}},B=function(e){return{type:n.u,room:e}},I=function(e){return{type:n.v,data:e}},A=function(e){return{type:n.H,gameBoard:e}},P=function(e){return{type:n.g,gameBoard:e}},G=function(){return{type:n.K}},M=function(){return{type:n.z}},L=function(e){return{type:n.I,data:e}},U=function(e){return{type:n.f,gameBoard:e}},D=function(){return{type:n.c}};a.d(t,"a",function(){return r}),a.d(t,"y",function(){return y}),a.d(t,"j",function(){return o}),a.d(t,"l",function(){return c}),a.d(t,"m",function(){return s}),a.d(t,"k",function(){return i}),a.d(t,"D",function(){return f}),a.d(t,"F",function(){return g}),a.d(t,"G",function(){return v}),a.d(t,"E",function(){return b}),a.d(t,"t",function(){return l}),a.d(t,"v",function(){return u}),a.d(t,"w",function(){return m}),a.d(t,"u",function(){return d}),a.d(t,"n",function(){return p}),a.d(t,"o",function(){return h}),a.d(t,"A",function(){return E}),a.d(t,"C",function(){return O}),a.d(t,"J",function(){return j}),a.d(t,"B",function(){return k}),a.d(t,"g",function(){return _}),a.d(t,"z",function(){return w}),a.d(t,"d",function(){return S}),a.d(t,"h",function(){return N}),a.d(t,"p",function(){return x}),a.d(t,"q",function(){return R}),a.d(t,"c",function(){return T}),a.d(t,"i",function(){return C}),a.d(t,"r",function(){return B}),a.d(t,"H",function(){return A}),a.d(t,"s",function(){return I}),a.d(t,"f",function(){return P}),a.d(t,"K",function(){return G}),a.d(t,"x",function(){return M}),a.d(t,"I",function(){return L}),a.d(t,"e",function(){return U}),a.d(t,"b",function(){return D})},30:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(78),c=a.n(o);t.a=function(e){return r.a.createElement("div",{className:c.a.spinner},"Loading...")}},34:function(e,t,a){e.exports={gameBoard:"Battleship__gameBoard_1Mk1I",gamePnl:"Battleship__gamePnl_3qWAB",playersPnl:"Battleship__playersPnl_371WK",border:"Battleship__border_1F8wV"}},46:function(e,t,a){e.exports={appContainer:"Layout__appContainer_1OR_B",header:"Layout__header_z340O",body:"Layout__body_GFUkF"}},54:function(e,t,a){e.exports={imgContainer:"GameLogo__imgContainer_1fRfs",gameLabel:"GameLogo__gameLabel_3GvD0"}},55:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=Object(n.memo)(function(e){var t=r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("input",{type:e.type,defaultValue:e.value,autoComplete:"off",className:"form-control",id:e.id,placeholder:e.placeholder,onInput:e.onChange}));if(Object.hasOwnProperty.call(e,"isValid")){var a=["form-control"];a.push(e.isValid?"is-valid":" is-invalid");var n=null;e.isValid||(n=r.a.createElement("div",{className:"invalid-feedback"},e.errorMessage)),t=r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("input",{autoComplete:"off",defaultValue:e.value,type:e.type,className:a.join(" "),id:e.id,placeholder:e.placeholder,onInput:e.onChange}),n)}return t})},56:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/i,r=function(e,t){var a=!0;return!t||(t.required&&!(a=""!==e.trim()&&a)?{errorMessage:"Field is required",isValid:a}:t.minLength&&!(a=e.length>=t.minLength&&a)?{errorMessage:"Field must contain at least ".concat(t.minLength," character"),isValid:a}:t.maxLength&&!(a=e.length<=t.maxLength&&a)?{errorMessage:"Field must contain no more than ".concat(t.maxLength," characters"),isValid:a}:t.isEmail&&!(a=n.test(e)&&a)?{errorMessage:"Email is invalid",isValid:a}:{isValid:a})}},78:function(e,t,a){e.exports={spinner:"Spinner__spinner_3uGUd",load4:"Spinner__load4_2nuFQ"}},79:function(e,t,a){e.exports=a.p+"static/media/tick-tack-toe.0f8b3612.jpg"},80:function(e,t,a){e.exports=a.p+"static/media/battleship.7743ba66.png"},84:function(e,t,a){e.exports={modalCentered:"Modal__modalCentered_2emS7"}},85:function(e,t,a){e.exports={boardMove:"BoardMove__boardMove_2hO5U"}},87:function(e,t,a){e.exports=a(149)}},[[87,1,2]]]);
//# sourceMappingURL=main.ad8580a8.chunk.js.map